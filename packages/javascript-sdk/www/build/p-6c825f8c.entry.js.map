{"version":3,"names":["searchcraftBaseSearchFormModuleCss","SearchcraftBaseSearchFormStyle0","SearchcraftBaseSearchForm","this","clearInput","searchStore","useSearchcraftStore","getState","themeStore","useThemeStore","componentDidLoad","searchcraft","SearchcraftCore","config","initialize","handleFormSubmit","async","event","preventDefault","query","trim","error","setQuery","search","searchResults","JSON","stringify","handleSearchInputChange","detail","handleClearInput","toggleTheme","apiKey","endpointURL","index","render","h","key","class","rightToLeftOrientation","onSubmit","label","labelForInput","onClearInput","onSearchInputChange","onButtonClick","errorMessage"],"sources":["src/components/searchcraft-base-search-form/searchcraft-base-search-form.module.scss?tag=searchcraft-base-search-form&encapsulation=shadow","src/components/searchcraft-base-search-form/searchcraft-base-search-form.tsx"],"sourcesContent":[".formLTR {\n  font-family: Helvetica, Arial, sans-serif;\n  text-align: left;\n}\n\n.formRTL {\n  font-family: Helvetica, Arial, sans-serif;\n  text-align: right;\n}\n\n.searchContainer {\n  align-items: center;\n  display: flex;\n}","import { Component, h, Event, Prop, State } from '@stencil/core';\nimport {\n  type CoreConfigSDK,\n  CoreSDK as SearchcraftCore,\n} from '@searchcraft/core';\n\nimport { useSearchcraftStore, useThemeStore } from '@provider/store';\n\nimport type { ScInputCustomEvent } from '@components/searchcraft-input/searchcraft-input';\n\n@Component({\n  tag: 'searchcraft-base-search-form',\n  styleUrl: 'searchcraft-base-search-form.module.scss',\n  shadow: true,\n})\nexport class SearchcraftBaseSearchForm {\n  @Prop() config: CoreConfigSDK = {\n    apiKey: '',\n    endpointURL: '',\n    index: [],\n  };\n  @Prop() errorMessage = 'Search was unsuccessful';\n  @Prop() labelForInput = 'Search';\n  @Prop() rightToLeftOrientation = false;\n\n  @Event() clearInput = () => {};\n\n  @State() error = false;\n  @State() query = '';\n  @State() searchResults: string | null = null;\n\n  private searchStore = useSearchcraftStore.getState();\n  private themeStore = useThemeStore.getState();\n\n  componentDidLoad = () => {\n    const searchcraft = new SearchcraftCore(this.config);\n    this.searchStore.initialize(searchcraft, true);\n  };\n\n  handleFormSubmit = async (event) => {\n    event.preventDefault();\n    if (this.query.trim() === '') {\n      this.error = true;\n    } else {\n      this.error = false;\n      this.searchStore.setQuery(this.query);\n      await this.searchStore.search();\n      this.searchResults = JSON.stringify(this.searchStore.searchResults);\n    }\n  };\n\n  handleSearchInputChange = (event: ScInputCustomEvent<string>) => {\n    this.query = event.detail;\n  };\n\n  handleClearInput = () => {\n    this.query = '';\n    this?.clearInput();\n  };\n\n  toggleTheme = () => {\n    this.themeStore.toggleTheme();\n  };\n\n  render() {\n    return (\n      <form\n        class={this.rightToLeftOrientation ? 'formRTL' : 'formLTR'}\n        onSubmit={this.handleFormSubmit}\n      >\n        <searchcraft-input-label label={this.labelForInput} />\n        <div class='searchContainer'>\n          {this.rightToLeftOrientation && <searchcraft-button />}\n          <searchcraft-input\n            onClearInput={this.handleClearInput}\n            rightToLeftOrientation={this.rightToLeftOrientation}\n            onSearchInputChange={this.handleSearchInputChange}\n            query={this.query}\n          />\n          {!this.rightToLeftOrientation && (\n            <searchcraft-button onButtonClick={this.handleFormSubmit} />\n          )}\n        </div>\n        {this.error && (\n          <searchcraft-error-message errorMessage={this.errorMessage} />\n        )}\n      </form>\n    );\n  }\n}\n"],"mappings":"+FAAA,MAAMA,EAAqC,yLAC3C,MAAAC,EAAeD,E,MCcFE,EAAyB,M,gEAU3BC,KAAAC,WAAa,OAMdD,KAAAE,YAAcC,EAAoBC,WAClCJ,KAAAK,WAAaC,EAAcF,WAEnCJ,KAAAO,iBAAmB,KACjB,MAAMC,EAAc,IAAIC,EAAgBT,KAAKU,QAC7CV,KAAKE,YAAYS,WAAWH,EAAa,KAAK,EAGhDR,KAAAY,iBAAmBC,MAAOC,IACxBA,EAAMC,iBACN,GAAIf,KAAKgB,MAAMC,SAAW,GAAI,CAC5BjB,KAAKkB,MAAQ,I,KACR,CACLlB,KAAKkB,MAAQ,MACblB,KAAKE,YAAYiB,SAASnB,KAAKgB,aACzBhB,KAAKE,YAAYkB,SACvBpB,KAAKqB,cAAgBC,KAAKC,UAAUvB,KAAKE,YAAYmB,c,GAIzDrB,KAAAwB,wBAA2BV,IACzBd,KAAKgB,MAAQF,EAAMW,MAAM,EAG3BzB,KAAA0B,iBAAmB,KACjB1B,KAAKgB,MAAQ,GACbhB,OAAI,MAAJA,YAAI,SAAJA,KAAMC,YAAY,EAGpBD,KAAA2B,YAAc,KACZ3B,KAAKK,WAAWsB,aAAa,E,YA7CC,CAC9BC,OAAQ,GACRC,YAAa,GACbC,MAAO,I,kBAEc,0B,mBACC,S,4BACS,M,WAIhB,M,WACA,G,mBACuB,I,CAmCxC,MAAAC,GACE,OACEC,EAAA,QAAAC,IAAA,2CACEC,MAAOlC,KAAKmC,uBAAyB,UAAY,UACjDC,SAAUpC,KAAKY,kBAEfoB,EAAA,2BAAAC,IAAA,2CAAyBI,MAAOrC,KAAKsC,gBACrCN,EAAA,OAAAC,IAAA,2CAAKC,MAAM,mBACRlC,KAAKmC,wBAA0BH,EAAA,sBAAAC,IAAA,6CAChCD,EAAA,qBAAAC,IAAA,2CACEM,aAAcvC,KAAK0B,iBACnBS,uBAAwBnC,KAAKmC,uBAC7BK,oBAAqBxC,KAAKwB,wBAC1BR,MAAOhB,KAAKgB,SAEZhB,KAAKmC,wBACLH,EAAA,sBAAAC,IAAA,2CAAoBQ,cAAezC,KAAKY,oBAG3CZ,KAAKkB,OACJc,EAAA,6BAAAC,IAAA,2CAA2BS,aAAc1C,KAAK0C,e","ignoreList":[]}