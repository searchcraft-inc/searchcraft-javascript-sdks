{"version":3,"names":["parseCustomStyles","styles","JSON","parse","error","console","parseSearchKeys","documentAttributesForDisplay","parsedKeys","Array","isArray","every","key","warn","extractDynamicProperties","document","keys","extractedProperties","forEach","serializeStyles","stringify","getFormattedTimeFromNow","timestamp","now","Date","inputTime","diffInSeconds","Math","floor","getTime","minutes","hours","days","years","flattenFacets","sections","map","section","fullPath","path","facetCheckbox","label","replace","value","count","children","filterPaths","paths","filter","parts","split","Boolean","length","some","otherPath","startsWith","formatNumberWithCommas","number","toString","createStoreImpl","createState","state","listeners","Set","setState","partial","nextState","Object","is","previousState","assign","listener","getState","getInitialState","initialState","subscribe","add","delete","api","createStore","l","Symbol","for","n","p","q","r","t","u","v","w","x","y","z","iterator","A","a","B","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","C","D","E","b","e","this","props","context","refs","updater","prototype","isReactComponent","Error","forceUpdate","F","G","H","constructor","isPureReactComponent","I","J","hasOwnProperty","K","current","L","ref","__self","__source","M","d","c","k","h","call","g","arguments","f","m","defaultProps","$$typeof","type","_owner","N","O","escape","P","Q","R","push","next","done","String","join","S","T","_status","_result","then","default","U","V","transition","W","ReactCurrentDispatcher","ReactCurrentBatchConfig","ReactCurrentOwner","X","apply","toArray","only","react_production_min","Component","Fragment","Profiler","PureComponent","StrictMode","Suspense","act","createContext","_currentValue","_currentValue2","_threadCount","Provider","Consumer","_defaultValue","_globalName","_context","createElement","createFactory","bind","createRef","render","isValidElement","lazy","_payload","_init","memo","compare","startTransition","unstable_act","useCallback","useContext","useDeferredValue","useEffect","useId","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useReducer","useRef","useState","useSyncExternalStore","useTransition","version","reactModule","require$$0","React","vanilla","require$$1","identity","arg","useStore","selector","slice","useDebugValue","createImpl","useBoundStore","create","react","exports","defineProperty","enumerable","get","o","configurable","writable","async","query","match","config","index","s","endpointURL","buildQueryObject","limit","offset","facets","order_by","sort","method","headers","Authorization","apiKey","body","i","fetch","ok","statusText","status","json","yearsRange","occur","normal","ctx","toISOString","counts","mode","DEBUG","INFO","WARN","ERROR","logLevel","logFormatter","defaultFormatter","debug","log","info","useSearchcraftStore","set","searchcraft","debuggerInstance","level","message","LogLevel","isRequesting","searchResults","selectedFilters","searchParams","setQuery","setSearchResults","results","setFacets","setSelectedFilters","filters","setIsRequesting","setSearchParams","params","setYearsRange","search","searchRequest","fromEntries","updatedFacets","data","initialize","searchcraftInstance","SDKDebugger","useThemeStore","theme","toggleTheme"],"sources":["src/utils/utils.ts","../../node_modules/zustand/vanilla.js","../../node_modules/react/cjs/react.production.min.js","../../node_modules/react/index.js","../../node_modules/zustand/react.js","../../node_modules/zustand/index.js","../core-sdk/dist/index.js","src/provider/store.tsx"],"sourcesContent":["export function parseCustomStyles(\n  styles: string | Record<string, string>,\n): Record<string, string> {\n  if (typeof styles === 'string') {\n    try {\n      return JSON.parse(styles);\n    } catch (error) {\n      console.error('Invalid customStyles format:', styles);\n      return {};\n    }\n  }\n  return styles || {};\n}\n\nexport function parseSearchKeys(\n  documentAttributesForDisplay: string,\n): string[] {\n  try {\n    const parsedKeys = JSON.parse(documentAttributesForDisplay);\n    if (\n      Array.isArray(parsedKeys) &&\n      parsedKeys.every((key) => typeof key === 'string')\n    ) {\n      return parsedKeys;\n    }\n    console.warn(\n      'searchKeys must be a JSON array of strings. Defaulting to an empty array.',\n    );\n    return [];\n  } catch (error) {\n    console.error('Failed to parse searchKeys:', error);\n    return [];\n  }\n}\n\nexport function extractDynamicProperties(\n  document: Record<string, string | number>,\n  keys: string[],\n) {\n  const extractedProperties: Record<string, string | number> = {};\n  keys.forEach((key) => {\n    extractedProperties[key] = document[key] || '';\n  });\n  return extractedProperties;\n}\n\nexport function serializeStyles(\n  styles: Record<string, Record<string, string>>,\n): string {\n  try {\n    return JSON.stringify(styles);\n  } catch (error) {\n    console.error('Error serializing styles:', error);\n    return '{}';\n  }\n}\n\nexport function getFormattedTimeFromNow(timestamp: string): string {\n  const now = new Date();\n  const inputTime = new Date(timestamp);\n  const diffInSeconds = Math.floor(\n    (now.getTime() - inputTime.getTime()) / 1000,\n  );\n\n  const minutes = Math.floor(diffInSeconds / 60);\n  const hours = Math.floor(minutes / 60);\n  const days = Math.floor(hours / 24);\n  const years = Math.floor(days / 365);\n\n  if (minutes < 60) {\n    return `${minutes}m ago`;\n  }\n  if (hours < 24) {\n    return `${hours}h ago`;\n  }\n  if (days < 365) {\n    return `${days}d ago`;\n  }\n  return `${years}y ago`;\n}\n\ntype Section = {\n  count: number;\n  path: string;\n  children: Section[];\n};\n\ntype FacetCheckbox = {\n  count: number;\n  // biome-ignore lint/suspicious/noExplicitAny: <explanation>\n  children: any[];\n  label: string;\n  value: string;\n};\n\nexport function flattenFacets(sections: Section[]): FacetCheckbox[] {\n  return sections.map((section) => {\n    const fullPath = section.path;\n\n    // Create the FacetCheckbox object\n    const facetCheckbox: FacetCheckbox = {\n      label: fullPath.replace(/^\\//, ''), // Format the label without leading slash\n      value: fullPath, // The full path as the value\n      count: section.count, // Count from the Section\n      children: flattenFacets(section.children || []), // Recursively flatten children\n    };\n\n    return facetCheckbox;\n  });\n}\n\nexport function filterPaths(paths) {\n  return paths.filter((path) => {\n    const parts = path.split('/').filter(Boolean);\n\n    if (parts.length > 1) {\n      return true;\n    }\n\n    return !paths.some(\n      (otherPath) => otherPath.startsWith(`${path}/`) && otherPath !== path,\n    );\n  });\n}\n\nexport function formatNumberWithCommas(number) {\n  return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n}\n","'use strict';\n\nconst createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const api = { setState, getState, getInitialState, subscribe };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\n\nexports.createStore = createStore;\n","/**\n * @license React\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var l=Symbol.for(\"react.element\"),n=Symbol.for(\"react.portal\"),p=Symbol.for(\"react.fragment\"),q=Symbol.for(\"react.strict_mode\"),r=Symbol.for(\"react.profiler\"),t=Symbol.for(\"react.provider\"),u=Symbol.for(\"react.context\"),v=Symbol.for(\"react.forward_ref\"),w=Symbol.for(\"react.suspense\"),x=Symbol.for(\"react.memo\"),y=Symbol.for(\"react.lazy\"),z=Symbol.iterator;function A(a){if(null===a||\"object\"!==typeof a)return null;a=z&&a[z]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nvar B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function E(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}E.prototype.isReactComponent={};\nE.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(\"setState(...): takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,e){this.props=a;this.context=b;this.refs=D;this.updater=e||B}var H=G.prototype=new F;\nH.constructor=G;C(H,E.prototype);H.isPureReactComponent=!0;var I=Array.isArray,J=Object.prototype.hasOwnProperty,K={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,e){var d,c={},k=null,h=null;if(null!=b)for(d in void 0!==b.ref&&(h=b.ref),void 0!==b.key&&(k=\"\"+b.key),b)J.call(b,d)&&!L.hasOwnProperty(d)&&(c[d]=b[d]);var g=arguments.length-2;if(1===g)c.children=e;else if(1<g){for(var f=Array(g),m=0;m<g;m++)f[m]=arguments[m+2];c.children=f}if(a&&a.defaultProps)for(d in g=a.defaultProps,g)void 0===c[d]&&(c[d]=g[d]);return{$$typeof:l,type:a,key:k,ref:h,props:c,_owner:K.current}}\nfunction N(a,b){return{$$typeof:l,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function O(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===l}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+a.replace(/[=:]/g,function(a){return b[a]})}var P=/\\/+/g;function Q(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(\"\"+a.key):b.toString(36)}\nfunction R(a,b,e,d,c){var k=typeof a;if(\"undefined\"===k||\"boolean\"===k)a=null;var h=!1;if(null===a)h=!0;else switch(k){case \"string\":case \"number\":h=!0;break;case \"object\":switch(a.$$typeof){case l:case n:h=!0}}if(h)return h=a,c=c(h),a=\"\"===d?\".\"+Q(h,0):d,I(c)?(e=\"\",null!=a&&(e=a.replace(P,\"$&/\")+\"/\"),R(c,b,e,\"\",function(a){return a})):null!=c&&(O(c)&&(c=N(c,e+(!c.key||h&&h.key===c.key?\"\":(\"\"+c.key).replace(P,\"$&/\")+\"/\")+a)),b.push(c)),1;h=0;d=\"\"===d?\".\":d+\":\";if(I(a))for(var g=0;g<a.length;g++){k=\na[g];var f=d+Q(k,g);h+=R(k,b,e,f,c)}else if(f=A(a),\"function\"===typeof f)for(a=f.call(a),g=0;!(k=a.next()).done;)k=k.value,f=d+Q(k,g++),h+=R(k,b,e,f,c);else if(\"object\"===k)throw b=String(a),Error(\"Objects are not valid as a React child (found: \"+(\"[object Object]\"===b?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":b)+\"). If you meant to render a collection of children, use an array instead.\");return h}\nfunction S(a,b,e){if(null==a)return a;var d=[],c=0;R(a,d,\"\",\"\",function(a){return b.call(e,a,c++)});return d}function T(a){if(-1===a._status){var b=a._result;b=b();b.then(function(b){if(0===a._status||-1===a._status)a._status=1,a._result=b},function(b){if(0===a._status||-1===a._status)a._status=2,a._result=b});-1===a._status&&(a._status=0,a._result=b)}if(1===a._status)return a._result.default;throw a._result;}\nvar U={current:null},V={transition:null},W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:V,ReactCurrentOwner:K};function X(){throw Error(\"act(...) is not supported in production builds of React.\");}\nexports.Children={map:S,forEach:function(a,b,e){S(a,function(){b.apply(this,arguments)},e)},count:function(a){var b=0;S(a,function(){b++});return b},toArray:function(a){return S(a,function(a){return a})||[]},only:function(a){if(!O(a))throw Error(\"React.Children.only expected to receive a single React element child.\");return a}};exports.Component=E;exports.Fragment=p;exports.Profiler=r;exports.PureComponent=G;exports.StrictMode=q;exports.Suspense=w;\nexports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W;exports.act=X;\nexports.cloneElement=function(a,b,e){if(null===a||void 0===a)throw Error(\"React.cloneElement(...): The argument must be a React element, but you passed \"+a+\".\");var d=C({},a.props),c=a.key,k=a.ref,h=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,h=K.current);void 0!==b.key&&(c=\"\"+b.key);if(a.type&&a.type.defaultProps)var g=a.type.defaultProps;for(f in b)J.call(b,f)&&!L.hasOwnProperty(f)&&(d[f]=void 0===b[f]&&void 0!==g?g[f]:b[f])}var f=arguments.length-2;if(1===f)d.children=e;else if(1<f){g=Array(f);\nfor(var m=0;m<f;m++)g[m]=arguments[m+2];d.children=g}return{$$typeof:l,type:a.type,key:c,ref:k,props:d,_owner:h}};exports.createContext=function(a){a={$$typeof:u,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};a.Provider={$$typeof:t,_context:a};return a.Consumer=a};exports.createElement=M;exports.createFactory=function(a){var b=M.bind(null,a);b.type=a;return b};exports.createRef=function(){return{current:null}};\nexports.forwardRef=function(a){return{$$typeof:v,render:a}};exports.isValidElement=O;exports.lazy=function(a){return{$$typeof:y,_payload:{_status:-1,_result:a},_init:T}};exports.memo=function(a,b){return{$$typeof:x,type:a,compare:void 0===b?null:b}};exports.startTransition=function(a){var b=V.transition;V.transition={};try{a()}finally{V.transition=b}};exports.unstable_act=X;exports.useCallback=function(a,b){return U.current.useCallback(a,b)};exports.useContext=function(a){return U.current.useContext(a)};\nexports.useDebugValue=function(){};exports.useDeferredValue=function(a){return U.current.useDeferredValue(a)};exports.useEffect=function(a,b){return U.current.useEffect(a,b)};exports.useId=function(){return U.current.useId()};exports.useImperativeHandle=function(a,b,e){return U.current.useImperativeHandle(a,b,e)};exports.useInsertionEffect=function(a,b){return U.current.useInsertionEffect(a,b)};exports.useLayoutEffect=function(a,b){return U.current.useLayoutEffect(a,b)};\nexports.useMemo=function(a,b){return U.current.useMemo(a,b)};exports.useReducer=function(a,b,e){return U.current.useReducer(a,b,e)};exports.useRef=function(a){return U.current.useRef(a)};exports.useState=function(a){return U.current.useState(a)};exports.useSyncExternalStore=function(a,b,e){return U.current.useSyncExternalStore(a,b,e)};exports.useTransition=function(){return U.current.useTransition()};exports.version=\"18.3.1\";\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","'use strict';\n\nvar React = require('react');\nvar vanilla = require('zustand/vanilla');\n\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity) {\n  const slice = React.useSyncExternalStore(\n    api.subscribe,\n    () => selector(api.getState()),\n    () => selector(api.getInitialState())\n  );\n  React.useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  const api = vanilla.createStore(createState);\n  const useBoundStore = (selector) => useStore(api, selector);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = (createState) => createState ? createImpl(createState) : createImpl;\n\nexports.create = create;\nexports.useStore = useStore;\n","'use strict';\n\nvar vanilla = require('zustand/vanilla');\nvar react = require('zustand/react');\n\n\n\nObject.keys(vanilla).forEach(function (k) {\n\tif (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) Object.defineProperty(exports, k, {\n\t\tenumerable: true,\n\t\tget: function () { return vanilla[k]; }\n\t});\n});\nObject.keys(react).forEach(function (k) {\n\tif (k !== 'default' && !Object.prototype.hasOwnProperty.call(exports, k)) Object.defineProperty(exports, k, {\n\t\tenumerable: true,\n\t\tget: function () { return react[k]; }\n\t});\n});\n","var f = Object.defineProperty;\nvar c = (o, t, e) => t in o ? f(o, t, { enumerable: !0, configurable: !0, writable: !0, value: e }) : o[t] = e;\nvar l = (o, t, e) => c(o, typeof t != \"symbol\" ? t + \"\" : t, e);\nclass g {\n  constructor(t) {\n    l(this, \"config\");\n    /**\n     * Performs a search operation.\n     * @param {SearchParams} searchParams - The parameters for the search.\n     * @returns {Promise<SearchcraftResponse>} - Returns the search response or throws an error.\n     */\n    l(this, \"search\", async (t) => {\n      if ((t.query.match(/\"/g) || []).length % 2 !== 0)\n        throw new Error(\n          \"The search term contains an uneven number of quote characters.\"\n        );\n      try {\n        const n = this.config.index.join(\",\"), s = `${this.config.endpointURL}/index/${n}/search`, r = {\n          query: this.buildQueryObject(t),\n          limit: t.limit ?? 20\n          // Default to 20 if not provided\n        };\n        t.offset !== void 0 && (r.offset = t.offset), t.facets && (r.facets = t.facets), t.order_by && (r.order_by = t.order_by, r.sort = t.sort === \"desc\" || t.sort === \"asc\" ? t.sort : \"asc\");\n        const u = {\n          method: \"POST\",\n          headers: {\n            Authorization: this.config.apiKey,\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(r)\n        }, i = await fetch(s, u);\n        if (!i.ok)\n          throw new Error(\n            `Error: ${i.statusText} (Status: ${i.status})`\n          );\n        return await i.json();\n      } catch (n) {\n        throw console.error(\"Error parsing response:\", n), n;\n      }\n    });\n    if (!t.endpointURL || !t.index || !t.apiKey)\n      throw new Error(\n        \"Endpoint URL, Index value(s), and API Key must be provided\"\n      );\n    this.config = t;\n  }\n  /**\n   * Builds a query object for the search request.\n   * @param {SearchParams} searchParams - The parameters for the search.\n   * @returns {QueryObject} - A properly formatted query object.\n   */\n  buildQueryObject(t) {\n    var r;\n    const e = [];\n    let n = \"should\";\n    if (t.yearsRange) {\n      n = \"must\";\n      const u = /* @__PURE__ */ new Date(`${t.yearsRange[0]}-01-01`), i = /* @__PURE__ */ new Date(`${t.yearsRange[1]}-12-31`);\n      e.push({\n        occur: n,\n        normal: {\n          ctx: `date_published:[${u.toISOString()} TO ${i.toISOString()}]`\n        }\n      });\n    }\n    const s = Object.keys(((r = t == null ? void 0 : t.facets) == null ? void 0 : r.section.counts) || {});\n    return s && s.length > 0 && (n = \"must\", e.push({\n      occur: n,\n      normal: {\n        ctx: `section: IN [${s.join(\" \")}]`\n      }\n    })), t.sort === \"desc\" ? t.order_by = \"date_published\" : t.order_by = \"\", e.push({\n      occur: n,\n      // Valid, as 'occur' is a required property in QueryItem\n      [t.mode]: { ctx: t.query }\n      // Ensure dynamic mode is inside queryType\n    }), e;\n  }\n}\nvar d = /* @__PURE__ */ ((o) => (o[o.DEBUG = 0] = \"DEBUG\", o[o.INFO = 1] = \"INFO\", o[o.WARN = 2] = \"WARN\", o[o.ERROR = 3] = \"ERROR\", o))(d || {});\nclass b {\n  constructor(t) {\n    l(this, \"logLevel\");\n    l(this, \"logFormatter\");\n    this.logLevel = t.logLevel || 1, this.logFormatter = t.logFormatter || this.defaultFormatter;\n  }\n  defaultFormatter(t, e) {\n    return `[${d[t]}] ${(/* @__PURE__ */ new Date()).toISOString()}: ${e}`;\n  }\n  debug(t) {\n    this.logLevel <= 0 && console.log(this.logFormatter(0, t));\n  }\n  info(t) {\n    this.logLevel <= 1 && console.info(this.logFormatter(1, t));\n  }\n  warn(t) {\n    this.logLevel <= 2 && console.warn(this.logFormatter(2, t));\n  }\n  error(t) {\n    this.logLevel <= 3 && console.error(this.logFormatter(3, t));\n  }\n}\nexport {\n  g as CoreSDK,\n  d as LogLevel,\n  b as SDKDebugger\n};\n//# sourceMappingURL=index.js.map\n","import { create } from 'zustand';\n\nimport {\n  type CoreSDK as SearchcraftCore,\n  SDKDebugger,\n  LogLevel,\n  type SearchcraftResponse,\n  type Facets,\n} from '@searchcraft/core';\n\nimport { filterPaths } from '@utils/utils';\n\ninterface ThemeState {\n  theme: 'light' | 'dark';\n  toggleTheme: () => void;\n}\n\ninterface SearchParams {\n  mode: 'fuzzy' | 'normal';\n  sort: 'asc' | 'desc';\n  yearsRange?: [number, number];\n}\n\ninterface SearchcraftState {\n  facets: Facets | null;\n  initialize: (searchcraft: SearchcraftCore, debug?: boolean) => void;\n  isRequesting: boolean;\n  query: string;\n  search: () => Promise<void>;\n  searchParams: SearchParams;\n  searchResults: SearchcraftResponse | null;\n  selectedFilters: string[]; // Add this to store selected filters\n  setFacets: (facets: Facets) => void;\n  setIsRequesting: (isRequesting: boolean) => void;\n  setQuery: (query: string) => void;\n  setSearchParams: (params: Partial<SearchParams>) => void;\n  setSearchResults: (results: SearchcraftResponse | null) => void;\n  setSelectedFilters: (filters: string[]) => void; // Update selected filters\n  setYearsRange: (yearsRange: [number, number]) => void;\n}\n\n// Zustand store for Searchcraft state\nconst useSearchcraftStore = create<SearchcraftState>((set, get) => {\n  let searchcraft: SearchcraftCore | null = null;\n  let debuggerInstance: SDKDebugger | null = null;\n\n  const log = (level: LogLevel, message: string) => {\n    if (debuggerInstance) {\n      switch (level) {\n        case LogLevel.DEBUG:\n          debuggerInstance.debug(message);\n          break;\n        case LogLevel.INFO:\n          debuggerInstance.info(message);\n          break;\n        case LogLevel.WARN:\n          debuggerInstance.warn(message);\n          break;\n        case LogLevel.ERROR:\n          debuggerInstance.error(message);\n          break;\n      }\n    }\n  };\n\n  return {\n    query: '',\n    isRequesting: false,\n    searchResults: null,\n    facets: null,\n    selectedFilters: [],\n    searchParams: {\n      mode: 'fuzzy',\n      sort: 'asc',\n    },\n    setQuery: (query) => set({ query }),\n    setSearchResults: (results) => set({ searchResults: results }),\n    setFacets: (facets) => set({ facets }),\n    setSelectedFilters: (filters) => set({ selectedFilters: filters }),\n    setIsRequesting: (isRequesting) => set({ isRequesting }),\n    setSearchParams: (params) =>\n      set((state) => ({\n        searchParams: {\n          ...state.searchParams,\n          ...params,\n        },\n      })),\n    setYearsRange: (yearsRange) =>\n      set((state) => ({\n        searchParams: {\n          ...state.searchParams,\n          yearsRange,\n        },\n      })),\n    search: async () => {\n      const {\n        query,\n        selectedFilters,\n        setIsRequesting,\n        setSearchResults,\n        setFacets,\n        searchParams,\n      } = get();\n      if (!searchcraft) {\n        throw new Error('Searchcraft instance is not initialized.');\n      }\n      setIsRequesting(true);\n      log(LogLevel.INFO, `Starting search with query: \"${query}\"`);\n      const filters = filterPaths(selectedFilters);\n      try {\n        const searchRequest = {\n          query,\n          mode: searchParams.mode,\n          sort: searchParams.sort,\n          facets:\n            selectedFilters.length > 0\n              ? {\n                  section: {\n                    counts: Object.fromEntries(\n                      filters.map((path) => [path, 1]),\n                    ),\n                  },\n                }\n              : null,\n          yearsRange: searchParams.yearsRange,\n        };\n\n        const results = await searchcraft.search(searchRequest);\n        setSearchResults(results);\n        const updatedFacets = results.data.facets || null;\n        setFacets(updatedFacets);\n\n        log(LogLevel.DEBUG, `Search results: ${JSON.stringify(results)}`);\n        log(LogLevel.DEBUG, `Updated facets: ${JSON.stringify(updatedFacets)}`);\n      } catch (error) {\n        console.error(`Search failed: ${(error as Error).message}`);\n        log(\n          LogLevel.ERROR,\n          `Search failed with error: ${(error as Error).message}`,\n        );\n      } finally {\n        setIsRequesting(false);\n      }\n    },\n    initialize: (searchcraftInstance, debug = false) => {\n      searchcraft = searchcraftInstance;\n      debuggerInstance = debug\n        ? new SDKDebugger({ logLevel: LogLevel.DEBUG })\n        : null;\n\n      log(LogLevel.INFO, 'Searchcraft store initialized.');\n    },\n  };\n});\n\nconst useThemeStore = create<ThemeState>((set) => ({\n  theme: 'light',\n  toggleTheme: () =>\n    set((state) => ({ theme: state.theme === 'light' ? 'dark' : 'light' })),\n}));\n\nexport { useSearchcraftStore, useThemeStore };\n"],"mappings":"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","ignoreList":[]}